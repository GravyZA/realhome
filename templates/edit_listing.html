{% extends "layout.html" %}

{% block page_content %}
<h2 class="mb-4">✏️ Edit Listing</h2>

<form method="POST">
  <div class="mb-3">
    <label class="form-label">Title</label>
    <input name="title" class="form-control" value="{{ listing.title }}" required>
  </div>

  <div class="mb-3">
    <label class="form-label">Description</label>
    <textarea name="description" class="form-control" rows="4" required>{{ listing.description }}</textarea>
  </div>

  <div class="mb-3">
    <label class="form-label">Property Type</label>
    <select name="type" class="form-select" required>
      <option value="Apartment" {% if listing.type == 'Apartment' %}selected{% endif %}>Apartment</option>
      <option value="House" {% if listing.type == 'House' %}selected{% endif %}>House</option>
      <option value="Townhouse" {% if listing.type == 'Townhouse' %}selected{% endif %}>Townhouse</option>
    </select>
  </div>

  <div class="mb-3">
    <label class="form-label">Price</label>
    <input name="price" class="form-control" value="{{ listing.price }}" required>
  </div>

  <div class="mb-3">
    <label class="form-label">Beds</label>
    <input type="number" name="beds" class="form-control" value="{{ listing.beds }}" required>
  </div>

  <div class="mb-3">
    <label class="form-label">Baths</label>
    <input type="number" name="baths" class="form-control" value="{{ listing.baths }}" required>
  </div>

  <div class="mb-3">
    <label class="form-label">Location</label>
    <input name="location" class="form-control" value="{{ listing.location }}" required>
  </div>

  <div class="d-flex justify-content-between">
    <button type="submit" class="btn btn-success">💾 Save Changes</button>
    <a href="{{ url_for('auth.agent_dashboard') }}" class="btn btn-outline-secondary">Cancel</a>
  </div>
</form>
{% endblock %}